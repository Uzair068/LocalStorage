<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <form onsubmit="saveToLocalStorage(event)">
        <label> Name</label>
        <input type="text" name="username" id="usernameInputTag" required />
        <label> EmailId</label>
        <input type="email" name="emailId" id="emailInputTag" required />
        <label> Phone Number</label>
        <input type="tel" name="phonenumber" id="phoneNumberInputTag" required />
        <button> Submit </button>
    </form>
    <ul id="listOfitems">
        
    </ul>

    <script>
        function saveToLocalStorage(event) {
            event.preventDefault();
            const name = event.target.username.value;
            const email = event.target.emailId.value;
            const phone = event.target.phonenumber.value;
            // localStorage.setItem('name',name)
            // localStorage.setItem('email',email)
            // localStorage.setItem('phone',phone)
            let myobj = {
                name: name,
                email: email,
                phone: phone
            }

            let myobjserialized = JSON.stringify(myobj)
            localStorage.setItem(email, myobjserialized)
            let myobjDesesrialized = json.parse(localStorage.getItem('myobj'))
            showUserOnScreen(myobj)
        }

        function showUserOnScreen(myobj) {
            const parentElem = document.getElementById('listOfitems')

            const childElem = document.createElement('li')
            childElem.textContent = myobj.name + "-" + myobj.email + ' - ' + myobj.phone;
            const deleteButton = document.createElement('input')
            deleteButton.type = "button";
            deleteButton.value = 'Delete';
            deleteButton.onclick = () => {
                localStorage.removeItem(myobj.email)
                parentElem.removeChild(childElem)

            }
            const editButton = document.createElement('input')
            editButton.type = "button"
            editButton.value = 'Edit'
            editButton.onclick = () => {
                localStorage.removeItem(obj.email)
                parentElem.removeChild(childElem)
                document.getElementById('usernameInputTag').value = obj.name
                document.getElementById('emailInputTag').value = obj.email
                document.getElementById('phoneNumberInputTag').value = obj.phonenumber
            }
            childElem.appendChild(deleteButton)
            childElem.appendChild(editButton)
            parentElem.appendChild(childElem)
        }


        // objects in localStorage

        // let myobj={
        //     name:name,
        //     email:email,
        //     phone:phone
        // }

        // let myobjserialized=JSON.stringify(myobj)
        // localStorage.setItem(email,myobjserialized)
        // let myobjDesesrialized=json.parse(localStorage.getItem('myobj'))

    </script>

</body>

</html>